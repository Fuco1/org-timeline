* see generated timeline (do `C-x C-e` after the progn. you can do `M-x runtest` to run again after)
#+begin_src emacs-lisp
(progn
  (defun runtest ()
    (interactive)
    (let*     ((debug-on-error t)
               (org-agenda-files (list (buffer-file-name)))
               (org-agenda-start-day "2017-04-19")
               (org-agenda-span 'day)
               (org-timeline-prepend nil)
               (org-timeline-show-clocked t)
               (org-timeline-dedicated-clocked-line t)
               (org-timeline-overlap-in-new-line nil)
               (org-timeline-emphasize-next-block nil)
               (org-timeline-show-text-in-blocks nil)
               (org-timeline-beginning-of-day-hour 5)
               (org-timeline-keep-elapsed -1)
               (org-timeline-insert-before-text "")) ; not default, but better for tests
      ;; use this next let to override defaults
      (let ((org-agenda-span 4))
        (org-agenda nil "a"))))
  (runtest))
#+end_src
* TODO
  SCHEDULED: <2017-04-19 Wed 10:00-11:00>
* TODO
  SCHEDULED: <2017-04-22 Sat 10:30-11:30>"
